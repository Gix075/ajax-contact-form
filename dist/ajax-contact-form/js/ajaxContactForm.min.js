/*! 
 * ************************************************************************* 
 *  AjaxContactForm | Simple ajax contact form 
 *  Version 1.5.0 - Date: 23/01/2016 
 *  HomePage: https://github.com/Gix075/ajax-contact-form 
 * ************************************************************************* 
*/ 
function reCaptchaValidator(a){var b={publicKey:null,theme:"light",debug:!1,phpValidator:"ajax-contact-form/php/ajaxContactForm_recaptcha.php",callbacks:{success:null,error:null}},c=this;this.params=$.extend(!0,b,a),this.getCaptcha=function(a){grecaptcha.render(a,{sitekey:c.params.publicKey,theme:c.params.theme})},this.validateCaptcha=function(a){var b={response:$("#"+a).find(".g-recaptcha-response").val()};console.log("value: "+b.response),""!=b.response?$.ajax({url:c.params.phpValidator,type:"POST",data:b,dataType:"json",success:function(a){a.success===!0?(c.params.debug===!0&&console.log("reCaptchaValidator: Validation Success!"),c.params.callbacks.success()):(c.params.debug===!0&&console.log("reCaptchaValidator: Validation Fail!"),c.params.callbacks.error())},error:function(){c.params.debug===!0&&console.log("reCaptchaValidator: AjaxError!"),c.params.callbacks.error()}}):(c.params.debug===!0&&console.log("reCaptchaValidator: No reCaptcha Data!"),c.params.callbacks.error())}}function formValidator(a){var b="",c="";this.opts=a,this.formValidation=!0,this.validInput=!1,this.validTextarea=!1,this.validPassword=!1,this.validEmail=!1,this.validSelect=!1,this.validRadio=!1,this.validCheckbox=!1,this.validPhone=!1,b=this.opts,c=this,this.validate=function(a,d,e){$(d).on("click",function(d){d.preventDefault();var f=$("form"+a),g=f.find("input.validate").not('input[type="radio"]').not('input[type="checkbox"]'),h=f.find('input[type="password"].validate.pswd-confirm'),i=f.find('input[type="tel"].validate'),j=f.find("textarea.validate"),k=f.find("select.validate"),l=f.find('input[type="email"].validate'),m=f.find(".radio-group.validate"),n=f.find(".checkbox-group.validate"),o=0;$(g).each(function(){""==$(this).val()?(b.showErrors===!0&&c.showError(this,"input","empty"),o+=1):b.showErrors===!0&&c.hideError(this,"input")}),c.validInput=o>0?!1:!0,o=0,$(i).each(function(){var a=$(this).val();if(""!=a){var d=/^\d+$/;d.test(a)===!1?(b.showErrors===!0&&c.showError(this,"input","wrong"),o+=1):b.showErrors===!0&&c.hideError(this,"input")}}),c.validPhone=o>0?!1:!0,o=0,$(j).each(function(){""==$(this).val()?(b.showErrors===!0&&c.showError(this,"textarea","empty"),o+=1):b.showErrors===!0&&c.hideError(this,"textarea")}),c.validTextarea=o>0?!1:!0,o=0,$(k).each(function(){$("option:selected",this).not(".not-option").length?b.showErrors===!0&&c.hideError(this,"select"):(b.showErrors===!0&&c.showError(this,"select","empty"),o+=1)}),c.validSelect=o>0?!1:!0,o=0,$(l).not(".email-confirm").each(function(){if(""!=$(this).val()&&b.mailformat===!0){var a=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;a.test($(this).val())===!1?(b.showErrors===!0&&c.showError(this,"email","wrong"),o+=1):b.showErrors===!0&&c.hideError(this,"email")}if(""!=$(this).val()&&b.mailconfirm===!0&&0==o){console.log($(this).attr("id"));var d=$('.email-confirm[data-confirm="#'+$(this).attr("id")+'"]');$(this).val()!=$(d).val()?(b.showErrors===!0&&c.showError(d,"email","wrong"),o+=1):b.showErrors===!0&&c.hideError(d,"email")}}),c.validEmail=o>0?!1:!0,o=0,b.passwordconfirm===!0&&$(h).each(function(){if(""!=$(this).val()){var a=$(this).data("confirm");$(this).val()!=$(a).val()?(b.showErrors===!0&&c.showError(this,"password","wrong"),o+=1):b.showErrors===!0&&c.hideError(this,"password")}}),c.validPassword=o>0?!1:!0,o=0,$(m).each(function(){var a=!1;$(this).find('input[type="radio"]').each(function(){$(this).is(":checked")&&(a=!0)}),a===!1?(b.showErrors===!0&&c.showError(this,"radio","empty"),o+=1):b.showErrors===!0&&c.hideError(this,"radio")}),c.validRadio=o>0?!1:!0,o=0,$(n).each(function(){var a=!1;$(this).find('input[type="checkbox"]').each(function(){$(this).is(":checked")&&(a=!0)}),a===!1?(b.showErrors===!0&&c.showError(this,"checkbox","empty"),o+=1):b.showErrors===!0&&c.hideError(this,"checkbox")}),c.validCheckbox=o>0?!1:!0,o=0,c.validInput===!0&&c.validPassword===!0&&c.validPhone===!0&&c.validTextarea===!0&&c.validEmail===!0&&c.validSelect===!0&&c.validRadio===!0&&c.validCheckbox===!0?e.success():e.fail()})},this.showError=function(a,c,d){if("radio"==c||"checkbox"==c)b.bootstrap===!0?$(a).closest("."+c+"-group").addClass("has-error"):$(a).addClass("error"),$(a).closest("."+c+"-group").find(".form-input-error-msg").addClass("show-error");else switch(b.bootstrap===!0?$(a).closest(".form-group").addClass("has-error"):$(a).addClass("error"),$(a).prev(".form-input-error-msg").addClass("show-error"),d){case"empty":$(a).prev(".form-input-error-msg").find(".error-wrong").removeClass("show-error"),$(a).prev(".form-input-error-msg").find(".error-empty").addClass("show-error");break;case"wrong":$(a).prev(".form-input-error-msg").find(".error-empty").removeClass("show-error"),$(a).prev(".form-input-error-msg").find(".error-wrong").addClass("show-error")}},this.hideError=function(a,c){"radio"==c||"checkbox"==c?(b.bootstrap===!0?$(a).closest("."+c+"-group").removeClass("has-error"):$(a).removeClass("error"),$(a).closest("."+c+"-group").find(".form-input-error-msg").removeClass("show-error")):(b.bootstrap===!0?$(a).closest(".form-group").removeClass("has-error"):$(a).removeClass("error"),$(a).prev(".form-input-error-msg").removeClass("show-error"),$(a).prev(".form-input-error-msg").find(".error-empty,.error-wrong").removeClass("show-error"))},this.clearError=function(a){$(a).find("*").removeClass("error"),$(a).find("*").removeClass("has-error"),$(a).find("*").removeClass("show-error")}}function ajaxContactForm(a){var b={form:"#ajaxContactForm",formBtn:"#ajaxContactFormBtn",ws:"ajax-contact-form/php/ajaxContactForm.php",showMsg:!0,recaptcha:{pubKey:"",element:"ajaxContactForm_recaptcha",theme:"light",ws:"ajax-contact-form/php/ajaxContactForm_recaptcha.php"}},c=this;this.settings=$.extend(!0,b,a);var d={publicKey:this.settings.recaptcha.pubKey,theme:this.settings.recaptcha.theme,debug:!0,phpValidator:this.settings.recaptcha.ws,callbacks:{success:function(){$("#"+c.settings.recaptcha.element).prev(".form-input-error-msg").hide(),c.sendMessage()},error:function(){$("#"+c.settings.recaptcha.element).prev(".form-input-error-msg").show()}}};this.recaptcha=new reCaptchaValidator(d),this.init=function(){this.recaptcha.getCaptcha(this.settings.recaptcha.element),this.validateContactForm()},this.validateContactForm=function(){var a={bootstrap:!0,mailconfirm:!0,mailformat:!0,showErrors:!0};new formValidator(a).validate(this.settings.form,this.settings.formBtn,{success:function(){console.log("%c AjaxContactForm: validation success! ","background:#333;color:#fff;"),$(c.settings.form).find(".acf_messagebox").height($(c.settings.form).height()),c.spinnerPlay(),c.recaptcha.validateCaptcha(c.settings.recaptcha.element)},fail:function(){console.log("%c AjaxContactForm: validation fail! ","background:#333;color:red;")}})},this.sendMessage=function(){var a=$(this.settings.form).serialize(),b=this;$.ajax({url:this.settings.ws,type:"POST",data:a,dataType:"json",success:function(a){b.spinnerStop(),b.settings.showMsg===!0&&($(b.settings.form).find(".acf_messagebox").show(),$(b.settings.form).find(".acf_messagebox > .msg-error").hide(),$(b.settings.form).find(".acf_messagebox > .msg-success").show(),$(".acf_close-msg").on("click",function(a){a.preventDefault(),$(this).closest(".acf_messagebox").hide()}))},error:function(){console.log("%c AjaxContactForm: AJAX_ERROR ","background:red;color:#fff;"),b.spinnerStop(),$(b.settings.form).find(".acf_messagebox").show(),$(b.settings.form).find(".acf_messagebox > .msg-success").hide(),$(b.settings.form).find(".acf_messagebox > .msg-error").show(),$(".acf_close-msg").on("click",function(a){a.preventDefault(),$(this).closest(".acf_messagebox").hide()})}})},this.spinnerPlay=function(){$(this.settings.form).find(".acf_spinner-wrapper").show()},this.spinnerStop=function(){$(this.settings.form).find(".acf_spinner-wrapper").hide()}}